<div id="guide_planning" class="max-w-7xl mx-auto">
  <div class="my-5">
    <h1 class="text-4xl font-medium">
      <i class="fa fa-info-circle"></i>
        Aide-mémoire de l'application Planning
    </h1>
  </div>

  <div class="jumbotron jumbotron-fluid">
    <div class="container">
      <h2 class="text-2xl font-medium mt-8 mb-4 pb-4 border-b">
        <i class="fa fa-bullhorn"></i>
        Voir les nouveautés
      </h2>
      <a  href="https://github.com/philippe-nougaillon/Planning_IAE/wiki"
          target="_blank"
          rel="noopener noreferrer"
          class="link text-info">
          https://github.com/philippe-nougaillon/Planning_IAE/wiki
      </a>
    </div>
  </div>

  <h2 class="text-3xl font-medium mt-8 mb-4 pb-4 border-b"><i class="fa fa-calendar-alt"></i> Planning des cours</h2>
  <div class="flex flex-wrap gap-4 mb-4">
    <a href="/Images/guide/cours1.png" class="link text-info shadow rounded p-1">
      <img src="/Images/guide/cours1.png" alt="Liste des cours à venir" class="max-w-sm">
      <p class="mt-2">Liste des cours à venir</p>
    </a>
    <a href="/Images/guide/cours_selection.png" class="link text-info shadow rounded p-1">
      <img src="/Images/guide/cours_selection.png" alt="Liste des cours d'une formation" class="max-w-sm">
      <p class="mt-2">Liste des cours d'une formation</p>
    </a>
    <a href="/Images/guide/cours_new.png" class="link text-info shadow rounded p-1">
      <img src="/Images/guide/cours_new.png" alt="Formulaire de réservation de salle" class="max-w-sm">
      <p class="mt-2">Formulaire de réservation de salle</p>
    </a>
  </div>
  <ul class="list-disc">
    <li>Chaque cours est associé à une Formation, un ou deux Intervenants, une Salle et un Etat (Planifié, Confirmé, Reporté, Annulé, Réalisé)</li>
    <li>Affichage des cours sous forme de Liste, de Calendrier (semaine/mois) ou Etat d'Occupation des salles</li>
    <li>Recheche multi-critères (Filtres sur Date, Formation, Intervenant, Etat, Cours passés ou futurs)</li>
    <li>Export des cours vers Microsoft Excel (.XLS), Outlook/Google Agenda(.iCal) et PDF</li>
    <li>Sélection d'un ensemble de cours pour effectuer une action groupée :
      <ul style="list-style-type: circle;">
        <li>Changement d'état</li>
        <li>Changement de salle (avec proposition des salles immédiatement disponibles)</li>
        <li>Changement de date</li>
        <li>Changement d'intervenant</li>
        <li>Intervertir les intervenants de 2 cours</li>
        <li>Générer une feuille d'émargement (Cours/Examens)</li>
        <li>Export CSV</li>
        <li>Export iCal</li>
        <li>Export PDF</li>
        <li>Suppression (Seul le créateur d'un cours peut le supprimer)</li>
      </ul>
    </li>
    <li>Saisie d'une réservation :
      <ul style="list-style-type: circle;">
        <li>Cochez <b>HSS?</b> pour que les heures de cours ne soient pas imputées sur l'état de services de l'intervenant (HSS = Hors Service Statutaire)</li>
        <li>Cochez <b>E-learning?</b> pour indiquer que ce cours est de l'E-learning</li>
        <li>Pour signaler que le cours utilise l'outil <b>ZOOM</b>; entrez comme nom de cours le lien ZOOM, puis son intitulé, séparés par un espace. Le lien ZOOM sera alors cliquable dans la liste publique des cours (PC/Mobile)</li>
        <li>Les salles disponibles sont affichées automatiquement si elles remplissent les conditions suivantes :
          <ul style="list-style-type: square;">
            <li>Pas de chevauchement horaire pour un même intervenant. Il n'est pas possible de saisir un nouveau cours si le formateur intervient déjà sur un autre cours aux mêmes heures (sauf si les doublons sont autorisés pour cet intervenant)</li>
            <li>Pas de chevauchement horaire pour une même salle. <strong>Pour autoriser les doublons : entrez 0 dans la capacité de la salle.</strong></li>
            <li>Impossibilité de saisir un nouveau cours ayant lieu un dimanche ou un jour de fermeture de l'établissement (cf. Outils/Fermetures)</li>
          </ul>
        </li>
      </ul>
    </li>
    <li>Affichage d'un pictogramme <i class="fa fa-exclamation_circle"></i> dans les cas suivants :
      <ul style="list-style-position: inside; list-style-type: circle;">
        <li>Dépassement de capacité de la salle (le nbr de places est inférieur au nbr d'étudiants de la formation)</li>
        <li>Le cours est dans l'état 'Confirmé' mais aucune salle n'a été réservée</li>
        <li>Un commentaire est présent pour ce cours</li>
      </ul>
    </li>
  </ul>

  <h2 class="text-3xl font-medium mt-8 mb-4 pb-4 border-b">
    <i class="fa fa-chalkboard"></i> 
    Salles
  </h2>
  <div class="flex flex-wrap justify-center gap-4 mb-4">
    <div>
      <a href="/Images/guide/salles1.png" class="link text-info shadow rounded p-1">
        <img src="/Images/guide/salles1.png" alt="Occupation des salles (jour)" class="max-w-sm">
        <p class="mt-2">Occupation des salles (jour)</p>
      </a>
      <a href="/Images/guide/salles2.png" class="link text-info shadow rounded p-1">
        <img src="/Images/guide/salles2.png" alt="Occupation des salles (semaine)" class="max-w-sm">
        <p class="mt-2">Occupation des salles (semaine)</p>
      </a>
    </div>
    <div>
      <a href="/Images/guide/cours3.png" class="link text-info shadow rounded p-1">
        <img src="/Images/guide/cours3.png" alt="Occupation salles en détail (semaine)" class="max-w-sm">
        <p class="mt-2">Occupation salles en détail (semaine)</p>
      </a>
      <a href="/Images/guide/cours4.png" class="link text-info shadow rounded p-1">
        <img src="/Images/guide/cours4.png" alt="Occupation salles en détail (semaine)" class="max-w-sm">
        <p class="mt-2">Occupation salles en détail (semaine)</p>
      </a>
    </div>
  </div>
  <ul class="list-disc">
    <li>Gestion de la capacité (alerte si dépassement)</li>
    <li>Visualisation des créneaux horaires libres/occupés pour une date, une salle</li>
    <li>Création d'un nouveau cours en cliquant sur un créneau libre (en vert)</li>
  </ul>

  <h2 class="text-3xl font-medium mt-8 mb-4 pb-4 border-b"><i class="fa fa-briefcase"></i> Formations</h2>
  <div class="flex flex-wrap gap-4 mb-4">
    <a href="/Images/guide/formations.png" class="link text-info shadow rounded p-1">
      <img src="/Images/guide/formations.png" alt="Liste des formations" class="max-w-sm">
      <p class="mt-2">Liste des formations</p>
    </a>
    <a href="/Images/guide/formation.png" class="link text-info shadow rounded p-1">
      <img src="/Images/guide/formation.png" alt="Une formation en détail" class="max-w-sm">
      <p class="mt-2">Une formation en détail</p>
    </a>
    <a href="/Images/guide/formation_form.png" class="link text-info shadow rounded p-1">
      <img src="/Images/guide/formation_form.png" alt="Modification d'une formation" class="max-w-sm">
      <p class="mt-2">Modification d'une formation</p>
    </a>
  </div>
  <ul class="list-disc">
    <li>Chaque formation est associée à un code couleur pour un répérage rapide dans le planning</li>
    <li>Gestion des UE (une liste d'UE est associée à chaque formation, avec indication du nombre d'heures, nbr de cours planifiés et restant à planifier)</li>
    <li>Gestion des étudiants liés à la formation</li>
    <li>Gestion des vacations votées (nom de l'intervenant, nbr heures)</li>
    <li>Archivage des formations</li>
      <ul style="list-style-type: circle;">
        <li>
          <b>Pour archiver une formation :</b>
          <br>
          Pour faire disparaitre une formation du planning (sans la supprimer), allez dans Formations/Choisir la formation à archiver/Modifier => Cocher "Archivée" et Enregistrez. Cette formation ne sera plus visible dans toute l'application.
          Pour faire réapparaitre une formation archivée, allez dans Formations/Cocher Archivées pour filtrer les formations archivées puis modifier la formation à faire réapparaitre, décochez "Archivée ?" et enregistrez. Cette formation est alors de nouveau visible dans toute l'application.
          <strong>Attention: une formation ayant des cours à venir ne pourra pas être archivée  (l'option sera désactivée)!</strong>
        </li>
      </ul>
    <li>
      Code Analytique (EOTP): Quand il s'agit d'une formation de plusieurs années civiles, il faut saisir la racine du code EOTP plus "?" (ex:7322PLHCOFCDFINS?). Le système remplacera le '?' par l'indice (1,2 ou 3) selon l'année de début début des cours de cette promotion (indice = année_du_premier_cours - année_en_cours + 1)  ((2018 - 2018) +1 ) = 1.  
    </li>
    <li>
      Flag HSS?: L'activer permet de ne pas imputer aux états de sercices les cours liés à cette formation.
    </li>
  </ul>


  <h2 class="text-3xl font-medium mt-8 mb-4 pb-4 border-b"><i class="fa fa-chalkboard-teacher"></i> Intervenants</h2>
  <div class="flex flex-wrap gap-4 mb-4">
    <a href="/Images/guide/intervenant.png" class="link text-info shadow rounded p-1">
      <img src="/Images/guide/intervenant.png" alt="Liste des intervenants" class="max-w-sm">
      <p class="mt-2">Liste des intervenants</p>
    </a>
    <a href="/Images/guide/intervenant_show.png" class="link text-info shadow rounded p-1">
      <img src="/Images/guide/intervenant_show.png" alt="Un intervenant" class="max-w-sm">
      <p class="mt-2">Un intervenant</p>
    </a>
    <a href="/Images/guide/intervenant_form.png" class="link text-info shadow rounded p-1">
      <img src="/Images/guide/intervenant_form.png" alt="Un intervenant en détail" class="max-w-sm">
      <p class="mt-2">Un intervenant en détail</p>
    </a>
  </div>
  <ul class="list-disc">
    <li>
      Profil des intervenants avec photo (option), status, formations dispensées, de ses salles préférées, ainsi que
      le nombre d'heures planifiées et la date du premier cours
    </li>
    <li>Gestion des responsabilités (Titre, nbr heures attribuées)</li>
    <ul style="list-style-type: circle;">
      <li>
        <b>Filtrage des cours par intervenant;</b> Pour que la recherche d'un intervenant soit fructueuse :
        <br>
        Comme le système cherche un intervenant qui se nomme NOM + 'Espace' + PRENOM, il ne faut donc pas d’espace, ni dans le nom, ni dans le prénom.
        Ex: "DE LA MARRE Henry" sera compris comme nom=DE, prénom=LA MARRE Henry. Il convient donc de remplacer l'espace par un '_', ce qui donnera "DE_LA_MARRE Henry".
        Le nom et le prénom sont obligatoires. Remplissez un champ vide par un point si besoin.
      </li>
      <li>Cochez 'Autoriser les doublons' si vous souhaitez que l'intervenant puisse être sur plusieurs cours sur le même créneau horaire. 
      C'est généralement le cas pour les groupes et non les individus (Ex: Alumnis, Direction, Service RH...).</li>
    </ul>
    <li>La saisie des Responsabilités n'est accessible que par les membres du rôle 'RH'</li>
  </ul>

  <h2 class="text-3xl font-medium mt-8 mb-4 pb-4 border-b"><i class="fa fa-graduation-cap"></i> Etudiants</h2>
  <div class="flex flex-wrap gap-4 mb-4">
    <a href="/Images/guide/etudiants.png" class="link text-info shadow rounded p-1">
      <img src="/Images/guide/etudiants.png" alt="Liste des étudiants" class="max-w-sm">
      <p class="mt-2">Liste des étudiants</p>
    </a>
    <a href="/Images/guide/etudiant_form.png" class="link text-info shadow rounded p-1">
      <img src="/Images/guide/etudiant_form.png" alt="Un étudiant en détail" class="max-w-sm">
      <p class="mt-2">Un étudiant en détail</p>
    </a>
    <a href="/Images/guide/etudiant_show.png" class="link text-info shadow rounded p-1">
      <img src="/Images/guide/etudiant_show.png" alt="Récapitulatif étudiant avec audit des modifications" class="max-w-sm">
      <p class="mt-2">Récapitulatif étudiant avec audit des modifications</p>
    </a>
  </div>
  <ul class="list-disc">
    <li>Chaque étudiant est associé à une formation</li>
    <li>La saisie des coordonnées de l'étudiant permet de lui envoyer une notification par email/SMS(option) en cas d'annulation de cours</li>
  </ul>

  <h2 class="text-3xl font-medium mt-8 mb-4 pb-4 border-b"><i class="fa fa-users"></i> Utilisateurs</h2>
  <ul class="list-disc">
    <li>Il existe 7 rôles utilisateur :</li>
    <ul style="list-style-type: circle;">
      <li>Visiteur (utilisateur non authentifié)</li>
      <li>Etudiant</li>
      <li>Intervenant</li>
      <li>Enseignant</li>
      <li>RH</li>
      <li>Gestionnaire</li>
      <li>Administrateur</li>
    </ul>
  </ul>

  <h2 class="text-3xl font-medium mt-8 mb-4 pb-4 border-b"><i class="fa fa-wrench"></i> Outils</h2>
  <div class="flex flex-wrap gap-4 mb-4">
    <a href="/Images/guide/outils.png" class="link text-info shadow rounded p-1">
      <img src="/Images/guide/outils.png" alt="Liste des outils" class="max-w-sm">
      <p class="mt-2">Liste des outils</p>
    </a>
    <a href="/Images/guide/imports-log.png" class="link text-info shadow rounded p-1">
      <img src="/Images/guide/imports-log.png" alt="Le journal des importations (Imports log)" class="max-w-sm">
      <p class="mt-2">Le journal des importations (Imports log)</p>
    </a>

    <a href="/Images/guide/reservation-saison.png" class="link text-info shadow rounded p-1">
      <img src="/Images/guide/reservation-saison.png" alt="Réservation de créneaux horaires pour une saison" class="max-w-sm">
      <p class="mt-2">Réservation de créneaux horaires pour une saison</p>
    </a>
  </div>
  <ul class="list-disc">
    <li>Gestion des jours de fermeture</li>
    <li>Réservation de créneaux horaires en massse</li>
    <li>Etats de services</li>
    <li>Taux d'occupation jours ou salles</li>
    <li>Import/Export de cours, intervenants, étudiants, formations, etc.</li>
    <li>Invitations (Workflow de gestion des propositions de créneaux horaires)</li>
    <li>Dossiers (Workflow de gestion des dossiers de candidature des nouveaux Intervenants)</li>
    <li>MailLog (Historique des envois de mail avec état [envoyé, ouvert])</li>
    <li>Audit Trail (historique des modifications utilisateurs)</li>
    <li>Rappel des cours (Envoyer un rappel des cours à tous les intervenants)</li>
    <li>Outils pour le rôle admin :</li>
    <ul style="list-style-type: circle;">
      <li>Gestion des Utilisateurs</li>
      <li>Import des utilisateurs</li>
      <li>Intervertir deux intervenants</li>
      <li>Audit des modifications</li>
      <li>Gestion des Salles</li>
      <li>Nouvelle saison (Réservation de cours en masse simplifiée, sur une année)</li>
    </ul>
  </ul>

  <h2 class="text-3xl font-medium mt-8 mb-4 pb-4 border-b"><i class="fa fa-download"></i> Importation des données</h2>
  <ul class="list-disc">
    <li>
      <b>Importation de cours à partir d'un fichier Excel:</b><br> 
      <ul style="list-style-type: circle;">
        <li>
          Le fichier source doit contenir <b>les mêmes entêtes de colonnes</b> 
          que le fichier généré lors de l'export Excel <br>
            <%# Cour.xls_headers.join(", ") %>
        </li>
        <li>
          Données obligatoires pour que la ligne soit importée : <br>
          <b>id, Date_début, Heure_début, Date_fin, Heure_fin, Intervenant, UE, Intitulé</b>
        </li>
        <li>
          Si 'id' est égal à '0', c'est une création de cours. Sinon c'est une mise à jour du cours ayant comme identifiant unique l'id' donné. Si le cours ayant cet 'id' n'existe pas, il sera créé.
        </li>
      </ul>
    </li>
    <br>
    <li>
      Les formations, intervenants, étudiants peuvent être importés en masse à partir d'un fichier .XLS (Microsoft Excel 2003)
    </li>

    <br>
    <li>
      <b>Importation d'utilisateurs:</b><br> 
      - Le fichier source doit contenir les colonnes suivantes: <br>
      <pre>email;nom;prénom;mobile</pre>
      <b><i>Chaque nouvel utilisateur sera averti de la création de son compte par l'envoi d'un email contenant un mot de passe unique généré automatiquement</i></b> 
    </li>
  </ul>

  <h2 class="text-3xl font-medium mt-8 mb-4 pb-4 border-b"><i class="fa fa-upload"></i> Exportation des données</h2>
  <ul class="list-disc">
    <li>Toutes les données sont exportables au format Microsoft Excel (XLS)</li>
  </ul>


  <h2 class="text-3xl font-medium mt-8 mb-4 pb-4 border-b"><i class="fa fa-search"></i> Audit des modifications</h2>
  <div class="flex flex-wrap gap-4 mb-4">
    <a href="/Images/guide/audit1.png" class="link text-info shadow rounded p-1">
      <img src="/Images/guide/audit1.png" alt="Audit des modifications" class="max-w-sm">
      <p class="mt-2">Audit des modifications</p>
    </a>
    <a href="/Images/guide/audit2.png" class="link text-info shadow rounded p-1">
      <img src="/Images/guide/audit2.png" alt="Audit des cours modifiés" class="max-w-sm">
      <p class="mt-2">Audit des cours modifiés </p>
    </a>
    <a href="/Images/guide/audit3.png" class="link text-info shadow rounded p-1">
      <img src="/Images/guide/audit3.png" alt="Audit des connexions" class="max-w-sm">
      <p class="mt-2">Audit des connexions</p>
    </a>
  </div>
  <ul class="list-disc">
    <li>Chaque modification apportée aux données est enregistrée dans un journal, avec la date, l'utilisateur, son IP, la table, le champs et la valeur avant/après la dite modification</li>
  </ul>


  <h2 class="text-3xl font-medium mt-8 mb-4 pb-4 border-b"><i class="fa fa-list-alt"></i> Etats de services</h2>
  <ul class="list-disc">
    <li>Récapitule et valorise les cours <b>réalisés</b> par un intervenant, sur une période donnée </li>
    <li>Visualisation des états de services par statut</li>
    <li>Etat liquidatif en PDF</li>
  </ul>

  <h2 class="text-3xl font-medium mt-8 mb-4 pb-4 border-b"><i class="fa fa-exchange-alt"></i> API</h2>
  <ul class="list-disc">
    <li>Une API fournit les données du Planning au format JSON</li>
  </ul>

  <h2 class="text-3xl font-medium mt-8 mb-4 pb-4 border-b"><i class="fa fa-asterisk"></i> Notification</h2>
  <ul class="list-disc">
    <li>Les chargés de scolarité et les étudiants peuvent recevoir une notification par email/SMS(option) lors de l'annulation de cours</li>
    <li>Chaque fin de mois, les intervenants recoivent leur planning du mois à venir</li>
  </ul>

  <h2 class="text-3xl font-medium mt-8 mb-4 pb-4 border-b"><i class="fa fa-mobile-alt"></i> Mobile</h2>
  <div class="flex flex-wrap gap-4 mb-4">
    <a href="/Images/guide/mobile0.png" class="link text-info">
      <div class="mockup-phone">
        <div class="camera"></div>
        <div class="display">
          <div class="artboard phone-1 bg-black">
            <div class="bg-black mt-7">
              <img src="/Images/guide/mobile0.png" alt="Planning mobile" class="max-w-sm">
            </div>
          </div>
        </div>
      </div>
      <p class="text-center mt-2">Planning mobile</p>
    </a>
    <a href="/Images/guide/mobile1.png" class="link text-info">
      <div class="mockup-phone">
        <div class="camera"></div>
        <div class="display">
          <div class="artboard phone-1 bg-black">
            <div class="bg-black mt-7">
              <img src="/Images/guide/mobile1.png" alt="Indicateur d'avancement des cours" class="max-w-sm">
            </div>
          </div>
        </div>
      </div>
      <p class="text-center mt-2">Indicateur d'avancement des cours</p>
    </a>
    <a href="/Images/guide/mobileSalles.png" class="link text-info">
      <div class="mockup-phone">
        <div class="camera"></div>
        <div class="display">
          <div class="artboard phone-1 bg-black">
            <div class="bg-black mt-7">
              <img src="/Images/guide/mobileSalles.png" alt="Planning mobile hebdomadaire" class="max-w-sm">
            </div>
          </div>
        </div>
      </div>
      <p class="text-center mt-2">Planning mobile hebdomadaire</p>
    </a>
  </div>
  <ul class="list-disc">
    <li>Le planning peut être visualisé sur différents supports (Responsive Design)</li>
    <li>Vue planning adaptée aux écrans de smartphones</li>
    <li>Adapté au standard PWA (Progressive Web App)</li>
  </ul>

  <h2 class="text-3xl font-medium mt-8 mb-4 pb-4 border-b"><i class="fa fa-film"></i> Affichage sur panneaux lumineux</h2>
  <div class="flex flex-wrap gap-4 mb-4">
    <a href="/Images/guide/afficheur.png" class="link text-info shadow rounded p-1">
      <img src="/Images/guide/afficheur.png" alt="Planning sur afficheur 1/2" class="max-w-sm">
      <p class="mt-2">Planning sur afficheur 1/2</p>
    </a>
    <a href="/Images/guide/afficheur2.png" class="link text-info shadow rounded p-1">
      <img src="/Images/guide/afficheur2.png" alt="Planning sur afficheur 2/2" class="max-w-sm">
      <p class="mt-2">Planning sur afficheur 2/2</p>
    </a>
  </div>
  <ul class="list-disc">
    <li>
      Planning du jour optimisé pour la diffusion sur grands écrans, généralement installés 
      à l'entrée des salles de cours, dans les couloirs ou à l'accueil de chaque batiment.
    </li>
    <li>Rotation automatique des pages</li>
    <li>Indication de la progression des cours</li>
  </ul>
</div>